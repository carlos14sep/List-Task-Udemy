[{"C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\index.js":"1","C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\App.jsx":"2","C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\components\\Navbar.jsx":"3","C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\components\\Login.jsx":"4","C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\firebase.jsx":"5","C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\components\\Admin.jsx":"6","C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\components\\Firestore.jsx":"7"},{"size":218,"mtime":1609619640277,"results":"8","hashOfConfig":"9"},{"size":1029,"mtime":1609720161289,"results":"10","hashOfConfig":"9"},{"size":1991,"mtime":1609722836228,"results":"11","hashOfConfig":"9"},{"size":5211,"mtime":1610219863055,"results":"12","hashOfConfig":"9"},{"size":566,"mtime":1609620415508,"results":"13","hashOfConfig":"9"},{"size":911,"mtime":1610220311338,"results":"14","hashOfConfig":"9"},{"size":4630,"mtime":1610220675133,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1o5rxgv",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},"C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\index.js",[],["32","33"],"C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\App.jsx",[],"C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\components\\Navbar.jsx",[],"C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\components\\Login.jsx",[],"C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\firebase.jsx",[],"C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\components\\Admin.jsx",[],"C:\\Users\\User\\Desktop\\programacion\\proyectos-1\\login-udemy\\src\\components\\Firestore.jsx",["34"],"import React from 'react'\r\nimport {db} from '../firebase'\r\n\r\nconst Firestore = (props) => {\r\n\r\n    const [tareas, setTareas] = React.useState([])\r\n    const [tarea, setTarea] = React.useState('')\r\n    const [modoEdicion, setModoEdicion] = React.useState(false)\r\n    const [id, setId] = React.useState('')\r\n  \r\n  \r\n    React.useEffect(() => {\r\n  \r\n      const obtenerDatos = async () => {\r\n  \r\n        try {\r\n \r\n          const data = await db.collection(props.user.uid).get()\r\n          const arrayData = data.docs.map(doc => ({ id: doc.id, ...doc.data() }))\r\n          console.log(arrayData)\r\n          setTareas(arrayData)\r\n          \r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n  \r\n      }\r\n  \r\n      obtenerDatos()\r\n  \r\n    }, [])\r\n  \r\n    const agregar = async (e) => {\r\n      e.preventDefault()\r\n  \r\n      if(!tarea.trim()){\r\n        console.log('estÃ¡ vacio')\r\n        return\r\n      }\r\n  \r\n      try {\r\n\r\n        const nuevaTarea = {\r\n          name: tarea,\r\n          fecha: Date.now()\r\n        }\r\n        const data = await db.collection(props.user.uid).add(nuevaTarea)\r\n  \r\n        setTareas([\r\n          ...tareas,\r\n          {...nuevaTarea, id: data.id}\r\n        ])\r\n  \r\n        setTarea('')\r\n        \r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n  \r\n      console.log(tarea)\r\n    }\r\n  \r\n    const eliminar = async (id) => {\r\n      try {\r\n        \r\n        await db.collection(props.user.uid).doc(id).delete()\r\n  \r\n        const arrayFiltrado = tareas.filter(item => item.id !== id)\r\n        setTareas(arrayFiltrado)\r\n  \r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n  \r\n    const activarEdicion = (item) => {\r\n      setModoEdicion(true)\r\n      setTarea(item.name)\r\n      setId(item.id)\r\n    }\r\n  \r\n    const editar = async (e) => {\r\n      e.preventDefault()\r\n      if(!tarea.trim()){\r\n        console.log('vacio')\r\n        return\r\n      }\r\n      try {\r\n\r\n        await db.collection(props.user.uid).doc(id).update({\r\n          name: tarea\r\n        })\r\n        const arrayEditado = tareas.map(item => (\r\n          item.id === id ? {id: item.id, fecha: item.fecha, name: tarea} : item\r\n        ))\r\n        setTareas(arrayEditado)\r\n        setModoEdicion(false)\r\n        setTarea('')\r\n        setId('')\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                    <h3>Lista de tareas</h3>\r\n                    <ul className=\"list-group\">\r\n                        {\r\n                        tareas.map(item => (\r\n                            <li className=\"list-group-item\" key={item.id}>\r\n                            {item.name}\r\n                            <button \r\n                                className=\"btn btn-danger btn-sm float-right\"\r\n                                onClick={() => eliminar(item.id)}\r\n                            >\r\n                                Eliminar\r\n                            </button>\r\n                            <button \r\n                                className=\"btn btn-warning btn-sm float-right mr-2\"\r\n                                onClick={() => activarEdicion(item)}\r\n                            >\r\n                                Editar\r\n                            </button>\r\n                            </li>\r\n                        ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                    <h3>\r\n                        {\r\n                        modoEdicion ? 'Editar Tarea' : 'Agregar Tarea'\r\n                        }\r\n                    </h3>\r\n                    <form onSubmit={modoEdicion ? editar : agregar}>\r\n                        <input \r\n                        type=\"text\"\r\n                        placeholder=\"Ingrese tarea\"\r\n                        className=\"form-control mb-2\"\r\n                        onChange={e => setTarea(e.target.value)}\r\n                        value={tarea}\r\n                        />\r\n                        <button \r\n                        className={\r\n                            modoEdicion ? 'btn btn-warning btn-block' : 'btn btn-dark btn-block'\r\n                        }\r\n                        type=\"submit\"\r\n                        >\r\n                        {\r\n                            modoEdicion ? 'Editar' : 'Agregar'\r\n                        }\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Firestore",{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","severity":1,"message":"40","line":31,"column":8,"nodeType":"41","endLine":31,"endColumn":10,"suggestions":"42"},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'props.user.uid'. Either include it or remove the dependency array.","ArrayExpression",["45"],"no-global-assign","no-unsafe-negation",{"desc":"46","fix":"47"},"Update the dependencies array to be: [props.user.uid]",{"range":"48","text":"49"},[756,758],"[props.user.uid]"]